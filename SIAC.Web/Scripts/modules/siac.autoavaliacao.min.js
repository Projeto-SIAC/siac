siac.Autoavaliacao=siac.Autoavaliacao||{};siac.Autoavaliacao.Index=function(){function s(){$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-100&&(n++,t())});$(".ui.dropdown").dropdown();$(".pesquisa input").keyup(function(){var n=this;r&&clearTimeout(r);r=setTimeout(function(){o=n.value;t()},500)});$(".button.topo").click(function(){h()});$(".categoria.item").click(function(){var u=$(this),e,f,r,o;if(n=1,e=u.attr("data-categoria"),u.hasClass("active")){for(f=i,i=[],r=0,o=f.length;r<o;r++)f[r]!=e&&i.push(f[r]);u.removeClass("active")}else i.push(e),u.addClass("active");t()});$(".dificuldade.item").click(function(){var i=$(this);n=1;f=i.attr("data-dificuldade");t()});$(".disciplina.item").click(function(){var i=$(this);n=1;e=i.attr("data-disciplina");t()});$(".ordenar.item").click(function(){var i=$(this);n=1;u=i.attr("data-ordenar");t();$(".ordenar.item").removeClass("active");i.addClass("active")});t()}function t(){$cards=$(".ui.cards");$cards.parent().addClass("loading");$.ajax({url:"/Historico/Autoavaliacao/Listar",data:{pagina:n,ordenar:u,dificuldade:f,disciplina:e,categorias:i,pesquisa:o},method:"POST",success:function(t){n==1?$cards.html(t):$cards.append(t)},complete:function(){$cards.parent().removeClass("loading")}})}function h(){return $("html, body").animate({scrollTop:0},500),!1}var r,n=1,u="data_desc",i=[],f="",e="",o="";return{iniciar:s}}();